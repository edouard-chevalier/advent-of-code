// See https://aka.ms/new-console-template for more information


using System.Text;

Console.WriteLine("Hello, World!");

const string inputReal = @"##.#.##
#.##...
.######
##....#
#.##.#.
.#.####
.#.####
#.##.#.
##....#
.######
#.##..#
##.#.##
..###..
..###..
##.#.##
#.##..#
.######

###....
##..###
.####..
.#.....
####.##
.....##
#..####
.#...##
#...###
.###...
.#..###
####.##
....###
....###
###..##

...##.##.##....
.##.######.##..
.##.#....#.##..
###.######.####
#.##......##.##
..###.##.###...
#####....######
####..##..#####
.###.#....###..
#####....######
..#........#...

####....##.
##.#....##.
#..#.###.##
.###...#.##
..###..#.#.
#.#..#.#.#.
.##..######
###..#....#
##.###..###
..##.#.##..
.#.##.#.#.#
.##.##.#.#.
.##.##.#.#.
.#.##.#.#.#
..##.#.##..

##...###..#.###
##...###..#.##.
##...###..#.##.
##...###..#.###
...###..###..#.
#.###.##....#.#
.#.#.#...#.#..#

###.#.##.#.##
..##.####.##.
##...#..#...#
.....#..#....
####.####.#.#
..#.#.##.#.#.
#####....####
..####..####.
..##########.
##..##..##..#
...#......#..
...#.####.#..
######..#####
###.######.##
##..##..##..#

#.##.#...
..##...##
##..##.##
##..##...
..###.#..
#.##.#...
#.##.#.##
#.##.#...
#.##.#...
..##..#..
#.##.##..
######.##
#....####
.......##
######.##
.####..##
#.##.####

.####....#..##.##
..########..####.
.#..##..#..####..
#.#..#..###...###
..#...##.#..#.##.
###.#.##.###..##.
....###.#..####.#
....###.#..####.#
###.#.##.###..##.
..#...##.#..#.##.
#.#..#..###...###
.#..##..#..####..
..########..#.##.
.####....#..##.##
.####....#..##.##

...#..#...#.#.#
...#..##...#..#
####.###.#...##
..#..##.#.#....
##.#.#...#.#.#.
.....###..#.#..
..#.#.#.....##.
..#.#.#.....##.
.....###..#.#..
##.#.#...#.#.#.
..#..##.#.#....
####.#.#.#...##
...#..##...#..#
...#..#...#.#.#
######.....####

.####.#
##..##.
###.###
......#
......#
#....##
#....##

...##...##.#.#.
...##...##.#.#.
##....##.#.#.#.
#..##......#.##
...##...#######
########....#.#
.##..##......##
#......#..#...#
#..##..##.#.###

.##.###...#
.##.###..##
.##.##.###.
#..##..##..
#..#..#.#..
#..#..#####
....##.####
....#..####
####.......
#..#.##.#..
#####.##.##

..#.#.#.##....#..
.#...###.##.#..#.
.#...###.##.#..#.
..#.#.#.##....#..
##..#.#..#..#.#.#
.#.#..#.#.##.....
.......###.......
####..#...#.##.##
.#.#.#...........
.#...#...........
####..#...#.##.##

##..###.#....
#....###....#
..##....#....
.####...##..#
.#..#.#.#..#.
.####...#...#
#.##.#.#...##
..##.....##..
########..#.#
#....########
.####....##..
#.##.#..####.
#.##.#.#####.

#.#..##.###
#.#..###...
.#.#.##.#..
.####...###
####..##...
...##...#..
##.#.###...
#..##..##..
#..#.##..##
.######.###
..#####.###

#.#.####.#.#.###.
#.#.####.#.#.###.
#.###..###.##.##.
#.#.####.#.##..#.
############.##.#
.#.######.#.#....
...#....#...#.###
#..##..##..#..#..
.##......##..###.
...##..##...##..#
..#..##..#...###.
.....##......####
..###..#.#..###.#
#.#.#..#.#.#.##..
.###....###..#.##
##.#.##.#.###..##
.#........#..#.##

#..####..####
###.##.######
####..#######
#...##...#..#
###....###..#
#........#..#
###.##.###..#
..#....#.....
............#
#..####..#..#
.##....##....
##.#..#.#####
###.##.######
....##.......
###....######
##......##..#
...#..#......

.###.#..##..##..#
#..#######..#####
.#.##.##.#..#.##.
..........##.....
..........##.....
##...###.####.###
#.#.##..######..#
##.#######..#####
#.....##..##..##.
#....############
.#.#.#..######..#
#.##.####.##.####
###.#####.##.####
.#..#.##.####.##.
#..##.##.#..#.##.
.#####..#....#..#
#.##.#..######..#

####.##.##.##.#
..#............
#####..####..##
.###....##....#
..###..####..##
#...#..#..#..#.
.#...##....##..
.#.#.##.##.##.#
#..............
#..#....##....#
....#..#..#..#.
.#.############
.##############
....##########.
...#.##.##.##.#

...........#...
.#.##.#..#..###
########..#####
..........#.###
#......#...#.##
#.####.####..##
.#....#......##
.#....#.#.#.###
...##.......#..
#.####.##....##
#......##.#....
###..#####..#..
#........##.#..

##########.#.##.#
#.##.#...##..#..#
##..###.#..###.#.
##..###.#..###.#.
#.##.#...##..#..#
##########.#.##.#
########.....##..
#.##.##.##....##.
........##..#...#
#....#.##..#...#.
#.######...##.#..

....#..
#..###.
..###.#
..##..#
#..###.
....#..
####...
...##..
..#.###
##...#.
#.#..#.
#.#..#.
##...#.

.###.##.###.#..
.....##.....###
##.######.##...
#..######..##..
#.#.#..#.#.##..
.##......##..##
...######....##
.##.#..#.##.###
.##.#.##.##..##
###......######
#....##....####
....#..#.......
..#......#..#..

#..#######.
#..########
.#.#..##.##
.#.##...#.#
.#.##...#.#
.#.#..##.##
#..########
#..#######.
..#.##.##..

.##....##.###.#
..##..##....#..
..##..##.......
.##....##.###.#
##......###.###
#.#....#.##.##.
#.#....#.#.#.##
#.######.##....
..#.##.#..#.##.
...####...#.##.
.#.####.#..#..#
###....###.##..
##..##..##.##..

####.##..####
####.##..####
..#.#######.#
.#.##.#.##...
.###...##.#..
.##.###.####.
.##..#.#....#
.##..#.#....#
.##.###.####.
.###...##.#..
.#.##.#..#...
..#.#######.#
####.##..####

####..#.##....#
####..#.##.....
#..##.###.##.##
......#...##.#.
....#.##.##....
####.#.#.##.#..
#..#..#####..##
............#.#
#..#..##.#...#.

####.##.####..#
.##..##..##..#.
#..#....#..#...
.##......##...#
.####..####....
.....##.....#.#
#..#....#..#...
####.##.#######
....####....#.#

##..#.....###..#.
....#.##.##...###
#..####.##...#.##
##.##..###...#.#.
##.#.####.##.....
#.####.###.#.##..
##.#..###.#..##..
###.#.#.#.#.#.#..
###.#.#.#...#.#..
....#..#.#.#..##.
..#.#.###.#.#..#.
..#.#.###.#.#..#.
....#..#.#.#..##.
###.#.#.#...#.#..
###.#.#.#.#.#.#..

.#.##..##.#..
.##########..
..##.##.##...
#...#..#.....
...##..##....
.#.######.#..
#...#..#...##
#.#......#.##
.###.##.###..
.#.#.##.#.#..
#..######..##
#.#..##..#.##
.#.######.#..
#....##....##
.#..#..#..#..
#.#.#..#.#.##
.##########..

....###.....####.
##.####..#.#..#.#
####.##..#.##...#
...#....#...##..#
...#...#....##..#
####.#.#..##.####
....#.###.#......
##.##...####...##
##.##...####...##
....#.###.#......
####.#.#..##.###.
...#...#....##..#
...#....#...##..#

..#.##..#
..#.##..#
#######..
#..#.##..
#.#....##
#..#...#.
###.#.#..
#.#.#..##
#.#.#..##
###.#.#..
#..#...#.
#.#....##
#..#.##..
#######..
..#.##.##

....#.##.####
#.##.#...#...
..####..#..##
##...#...#.##
#.####..##.##
###..######..
.##..######..

#..####.#.#
#..####.#.#
#...#.#.#.#
.##.#.##..#
#..##..####
##..##.##..
####..##.#.
#.##..##.#.
##..##.##..

##.#..#.###.#..
##..#.######.#.
###..#.##.#....
##.####.#.####.
..#.####.#.#..#
...#.#.##.###..
###....#.#.#..#
..#.###.##..##.
...#.###.###...
############.#.
###########..#.

.##....
.#.#...
#..####
#..####
.#.#...
.##....
...#..#

.#.##.#..##..#.
..####....#..##
#......#....#.#
.######.#..#.##
.........#####.
..####..#......
..####..#......
.........#####.
.######.#..#.##
#......#....#.#
..####....#..##
.#.##.#..##..#.
.#.#..#.##..#..
.#.##.#...####.
.#.##.#.#...#..

...#.#..#
##..#....
###......
###......
##..#....
...#.#..#
#...##..#
..##....#
..#.##..#
#.....##.
#....####

...###..###
#..##..####
##.##.....#
..#..###..#
.#.##.###..
#...###.###
....#.#.##.
#...#......
#...#......
....#.#.##.
#...###.###
.#.##.###..
..#..###..#
##.##.....#
#..##..####
...###..###
....##..###

..##.#.#..#..#.##
..#.#..##.#.###..
..#.#..##.#.###..
..##.#.#..#..#.##
#..##.##..#.##.##
.#####.#..###...#
...#.....##.####.
..#....#..##..#..
.#..##.#..###.##.
....#.####.####.#
...#.###..#..#..#
.##.#.#..###...##
..#.#.#..###...##

.###.###...
##..#...##.
.##.#.....#
...#...#...
##.#...#.#.
##.#...#.#.
...#...#...
.##.#...#.#
##..#...##.
.###.###...
#.##.##.##.
#.##.##.##.
.###.###...

.#.##......
.#.##......
..##.##..##
....##.##.#
...###.##.#
##.##..##..
.##.##....#
##.#..#..#.
.#..#.....#

#..#.##..#..#..
#..#....#..##..
.##.#.#####.##.
####.#.##......
.##.##..##.....
#..#.###.###...
.##.........#..
#####..#.#.....
.##.#.#........
.....#..#....##
####.###..###..
#..#.##..#.##..
.##.###...#####

#..#.#.##..#..#
.##.#.###.....#
.##.#..##.#...#
########.#..##.
####.#.#####.##
....##...#.##..
....#.##.###.#.
..........#.#..
..........#.#..
....#.##.##..#.
....##...#.##..

..#####.####...#.
......#.#.###.##.
.##.#...#..#..###
.##.#...#..#..###
......#.#.###.##.
..#####.####...#.
#.####....#.#..#.
####.##..#.###.#.
..#..##.#..###..#
##....###.##.#.##
.##....###.##..#.
.##....###.##..#.
##....###.##.#.#.

..#.####.##......
....####.##......
.#.###.###.#....#
#.###..##########
....###.##.######
#......#.#.######
##...#..#..#.##.#

....#...##..#.#..
#..#....#....#..#
.#..##..#..#.#...
..#.#..#..#.##.##
.##...##.##..##..
.##...##.##..##..
..#.#..#..#.##.##
.#..##..#..#.#...
#..#....#....#..#
....#...##..#.#..
....##...#....###
.#..#.#.#..##..##
#...##..###....##
#...##..###....##
.#..#.#....##..##

..#..#.#..##.#..#
#.#.###..##.#.##.
..##..####..#####
.#.##..#...#.####
###.#.#..##.#####
###.#...#.###.##.
###.#.###..#..##.
#..#....#.##..#..
..###....#..##..#
#.#####.##.#.####
#.##.#...#..##..#
##.....###...#..#
#...##....#...##.
.###.#..#.#######
.###.#..#.#######

.##.#..
###....
#.#....
...#..#
#..####
###....
###....
#..####
...#..#

##.....#..#..
....##.####.#
....#.#.##.#.
.#.#.#......#
#....##....##
##..##.#..#.#
#.#.#..###...
####.##.##.##
####.##.##.##

......###....
...##.####.##
..#..######..
##..##....##.
###.#.#..#.#.
......#..#...
###..##..##..
##.##......##
.....######..
..####.##.###
.......##....
...#.#....#.#
..###......##
###.##....##.
##..#.####.#.
###.#..##..#.
...##.#..#.##

..#.##.#....#
..######....#
#..#..#..##..
....##.......
#..####..##..
..#....#....#
##.####.####.
#.#.##.#.##.#
#..#..#......
#.#....#.##.#
#..####..##..
##......####.
.##....##..##

#...#.#
#...#.#
####.#.
..##..#
.######
....#..
.##..#.
....#..
....#..
.##..##
....#..
.######
..##..#
####.#.
#...#.#

..##...#..##...##
.......#.#.##.#.#
......#..###.#.#.
......#####.#..##
##..##.#####..###
##..###.#.###.#.#
.......#.#.##..##
..##...#.#.#.##.#
##..##..#..##.#.#
##..####.##.#.###
##..###.#.#.##..#
.......#..#.##.#.
..##...##.#.#.###
##..##.######.#..
.#..#.##.##..##..
..##......##.#.##
..##..#..#.....#.

.#....####.
..#.#.####.
.#####....#
##...######
##.....##..
.#..#..##..
..##.#....#
#...###..##
#...###..##
..##.#....#
##..#..##..
##.....##..
##...######

.##.##..#
##...####
#...#..##
##....#..
....#..##
...#.####
...#.####
....#..##
##....#..

#.##..##.##..#.#.
#........##.#....
###....######..##
...####...#..###.
##......##....#..
..#.##.#...##.###
#........#.####..
#.#....#.#.#..##.
#.#....#.#.#..##.
#........#.####..
..#.##.#....#.###

......#..#.##..##
......#..#.##..##
#.#.##.....###.##
#..###....##.#..#
..#.##..###....#.
.#.#.#..##....##.
#.#....#.##...#.#
.##..###.#.#.##.#
.##..###.#.#.##.#
#.#....#.##...#.#
.#.#.#..##....##.
..#.##.####....#.
#..###....##.#..#
#.#.##.....###.##
......#..#.##..##

.#.###....###.###
....##.#.###....#
##....#.#.#.##...
##....#.#.#.##...
....##.#.###....#
.#.###....###.###
..#..#.#...##.#..
.#.#..#...####.##
#..#...#.###...##
.##.#.#.#..#..#.#
.##.#.#.#..#..#.#
#..#...#.###...##
...#..#...####.##
..#..#.#...##.#..
.#.###....###.###
....##.#.###....#
##....#.#.#.##...

##..##..####.
.#..#.#.####.
.####.#.#..#.
###.###.#..#.
##..##...##..
######..####.
......#.#..#.
.#..#........
##..##.######
######.##..##
.####..#....#

##...#..#...#
###.##..##.##
##..#####...#
..#........#.
..#.#.##.#.#.
##.#.####.#.#
......##.....
..#.##..##.#.
##.#.####.#.#
..###.##.###.
###...##...##
..#..#..#..#.
..#.#....#.#.
######..#####
.....#..#....
..#.#.##.#.#.
##...####...#

.##.##..#....#..#
.....####.##.####
.#...###......###
.#...............
.#...############
#.#......####....
.#.###..#....#..#
.#.#.#..#....#..#
#...#.##......##.
#.#.#.##.#..#.##.
..#...##..##..##.

.##...#.#
####...#.
#..#..#..
######.##
.....#.#.
....#..##
#..######
.#..##...
....##...
.....###.
.##...###
.##.#.###
.##.#.###

.#.##.######.##
.#.##.######.##
#..##.#.##.#.##
##..#.######.#.
.###..#....#..#
...#.#.######.#
..##.#.####.#.#

.##...##...
.##.#..#...
#....#.##..
.###..#.###
....#......
#.#.#...###
..####.#...
..####.#...
#.#.#...###
....#......
.###..#.###
#....#.##..
.##.#..#...
.#....##...
.##.#..##..

#.#.#..#.#.###..#
#####..##########
.#.#.##.#.#.#####
.#.#.##.#.#.##..#
###.#..#.########
.##..##..##.#....
###.####.########
.######.###..#..#
...#.##.#....####
#...#..#...###..#
###......###..##.
###.#..#.####....
..###..###..##..#
####....####..##.
#.##....##.###..#

.#...#....#...#.#
#.###......###.##
..#.##....##.#..#
..#.##....##.#..#
...#.##..##.#....
####.#....#.#####
###.#..##..#.####
..##...##...##..#
##..########..###
##..########..###
..##...##...##...
###.#..##..#.####
####.#....#.#####

..#.####.##.###
###..#.#....#.#
###..#.#....#.#
..#.####.##.###
##....##.##.##.
#.#.#.##.##.##.
##....#.####.#.
##......#..#..#
##..##.#....#.#
#..#...######..
###.#####..####

#......##.#.#..#.
#......#..#..##..
#......#..#.#..#.
#..##.###...#..#.
#......#.###.##.#
...##...####....#
.#.##.#.##..#..#.
..#..#..#....##..
...##....########
...##....#.#.##.#
###..#####.#.##.#

..#..####....
..####.#.#...
...##..#.#.#.
..#.#####...#
..#..###..#.#
....###...#.#
....###..##.#
..#..###..#.#
..#.#####...#
...##..#.#.#.
..####.#.#...
..#..####....
..#.#.#.##...
###.....###..
##.###...#..#

#.....#.#..#..#..
...#..#.##...#..#
.####.#.###..#.##
.####.#.###..#.##
...#..#.##...#..#
#.....#.#..#..#..
.##......#.#...#.
..#.#.##.....#...
.#...#.####.#..#.
.####.#.######.##
#..#.#...##...#.#
#..#.#...##...#.#
.####.#.######.##
.#...#.####.#..#.
..#.#.##.....#...
.##......#.#...#.
#.....#.#..##.#..

..#.#.#
..#.#.#
....##.
.##..#.
#..#.#.
....#.#
....#..
.....#.
....##.

.........#.
.#....#....
##....##.#.
#......##.#
.######...#
#.......###
.######..##
#..##..###.
#.#..#.#...
#.#..#.#...
#..##..###.

###..#.###.
##.##...#..
.#.#..###..
.#.###.####
.#.###.####
.#.#..###..
##.##...#..
###..#..##.
.####.#..#.
.##...###..
#...#.#.#.#
#...#.#.#.#
.##...###..

.#.#.#.....
...###.....
....#.#####
##..#......
.###..#####
##.....####
.###.#.####
.#.#..#....
.######....
....##.####
..##.#.....
#.###.#####
.##..##....
.#..##..##.
#.#...#....

..#.##.#..#
#.#....#.##
#.##..##.#.
#.##..##.#.
#.#....#.##
..#.##.#..#
..#....#...
..#######.#
.#.#..#.#.#

####..####..#
..##..#####.#
##..##....##.
..##..####..#
....#.#..#.#.
...#.######.#
...#..#..#..#

.###.####.###
.....####....
.###..##..###
...#......#..
.####.##.####
###..#..#..##
....#....#...
.###..##..###
#...######...
#...#.##.#...
..##.#..#.##.
...#.####.#..
.##.######.##
...#.####.#..
#....#..#....
.###.####.###
#...######...

###.####.#..#..
..##...##.#.#.#
##.#..###.##.##
..#.##.##.###.#
..###..###.##.#
......##..##.##
#####..#.##..#.
#####...#......
###....#.###.#.
.....#.##.#####
##..#.#.##...#.
........####.#.
........####.#.
##..#...##...#.
.....#.##.#####

..........####.
...##....#....#
.........##..##
#......##.####.
#...#..##..##..
.#....#...####.
........#######
#.####.###....#
##.##.###.####.
#......#.#....#
#......#.#.##.#

#######.##....#
##.#.##########
##..##.#..#..#.
###....#.#.##.#
######.#..#..#.
..###.##.##..##
##.##.#..#....#
##.#.##........
#..#..##.#....#
#.###..#..#..#.
#.#.#.###.####.
#.#.#####.####.
#.###..#..#..#.

##.###...#.##..#.
#.#....##.###.#..
.#.....#.###..#..
.#.....#.###..#..
#.#....##.###.##.
##.###...#.##..#.
..#.###...#..#.##
#.#.#.##.######..
#.#.#.##.######..
..#.###...#..#.##
##.###...#.##..#.
#.#....##.###.##.
.#.....#.###..#..

#.#.##..##.#.##..
##.#.####.#.##.##
.####....####.###
.#.###..###.#..##
.#.#......#.#..##
..#.#.##.#.#.....
.#...#..#...#.#..
.#######.####.###
#..#.#..#.#..####
.##.##..##.##....
..#........#..###
#..##....##..####
#.#..#..#..#.#...
..##.####.##.....
#####....#####...
##.########.##...
#.##......##.####

......###..##
#####.######.
.##...##.#.#.
########.##..
....#..#.....
.......###.#.
.##.##.###.#.
#..####..##.#
#..####..##.#
.##.##.###.#.
.......###.#.
....#..#.....
########.##..
.##...##...#.
#####.######.
......###..##
#########....

####...####
.###.#.....
.###.#.....
####...####
.####.##..#
.#..#######
#####...#.#
#.####.##..
#.#...#.##.
#.#####....
...###.#.##
#.#.#.#...#
##.#####.##
#...##.####
#...#..####

#..#..####..#
#######..####
.##..######..
#...#..##..#.
####.##..##.#
...###.##.###
##..##.##.##.
.#...##..##..
#.....####...
###...####...
.....#....#..
....########.
#.#.#..##..#.
#....#....#..
#.#..#....#..

.###.####..
.########..
.###..###.#
##########.
.###..###..
.###..###..
##########.
.###..###.#
.########..
.###.####..
#...##...##

#.#.###.#
#.#.###.#
###.#.###
...###...
..#..##.#
..#...#.#
#.#...#.#
..#..##.#
...###...

..##.#...
..##.#...
...##...#
..#..##..
.#.##.#..
#...##...
##..####.
#.###.#..
#.###.#..
#...####.
#...##...
.#.##.#..
..#..##..
...##...#
..##.#...

###..##...#.#####
.#.##.#..#.#.....
#.#####.#.####.##
.#.#..#.#.###.###
##.##.##....#...#
##.##.##....#...#
.#.#..#.#.###.###
#.#####.#.#######
.#.##.#..#.#.....
###..##...#.#####
...#......#.##..#
..#.##....#...###
......###..#.....
..#.##.#.#.....#.
..#.##.#.#.....#.

###.###.#
###.#....
##.#.###.
###.##.##
..#..#..#
######..#
##.###..#

.....#.########
..#.###..##.#.#
##..#...##..##.
##....#.#.#.#..
#####.####...##
#...#.#.#.##.##
#...#.#.#.##.##
#####.####...##
##....#.#.#.#..
##..#...##..##.
..#.#.#..##.#.#
.....#.########
.#....##...####
##.###..#..##.#
##.###..#..##.#

#########.#..####
...##...#..#.#.#.
##....##......#..
.........##..###.
#..##..###.#.##..
#..##..#.#.#.##..
.........##..###.
##....##......#..
...##...#..#.#.#.
#########.#..####
..####..#.#######

...####...##.
.##....##....
.########.##.
##.#..#.#####
####..#######
####..#.##..#
..#.##.#.....
##..##..##..#
#.##..##.#..#
##..##..##..#
#.######.#..#
.###..###....
#..#..#..#..#
....##....##.
#.######.#..#

.#.#...
#......
.#..#.#
..#..#.
..###..
#.#####
#...###
#...###
#.#####
..###..
..#....
.#..#.#
#......
.#.#...
#.#..#.
#.#..#.
.#.#...

####..##.....#.
....###.###....
#######.##.#...
.##..#..###.###
.##.##..####..#
.##.#..####.###
####.#..##.##..
.##.####.#.#.#.
....#.##.##..##
....#.##.##..##
.##.####.#.#.#.
####.#..#####..
.##.#..####.###

..####.....
##....####.
..#..#....#
#.####.##..
#.####.##..
#.####.#.##
.#....#...#
#......#.##
#.####.##..
..####..##.
..#..#..#.#
.#.##.#.##.
.#.##.#.##.
..#..#..###
..####..##.

#......##..
.#.##.#..##
.#....#..##
.#....#.#..
####.###.##
.######....
###..######
..####..#..
..#..#..#..
##....##...
##....##...
########.##
##....##...

##..###.####.
..##..#.#..#.
#########.#..
######.##..#.
######.....#.
######..#..#.
..##......#.#
##..####...#.
##########.#.
##..##.####..
..##...###...
......##.#.##
......###.###
#######.#####
######...#.##
#.##.###.##..
..##..###.#..

#..#.##.###
.##..##.#.#
.....#..#.#
#..##....#.
....#####..
.##.#......
....#..#...
.##.##....#
#..##.###.#
.......#.##
....#..#.##
#..##.###.#
.##.##....#";
const string inputTest = @"#.##..##.
..#.##.#.
##......#
##......#
..#.##.#.
..##..##.
#.#.##.#.

#...##..#
#....#..#
..##..###
#####.##.
#####.##.
..##..###
#....#..#";

/*
var input = inputReal;
var lines = input.Split(Environment.NewLine);
var patterns = new List<string[]>();
var buffer = new List<string>();
foreach (var line in lines) {
    if (string.IsNullOrEmpty(line)) {
        patterns.Add(buffer.ToArray());
        buffer.Clear();
        continue;
    }
    buffer.Add(line);
}
patterns.Add(buffer.ToArray());

long Score(string[] pattern) {
    
    for (int i = 0; i < pattern.Length -1; i++) {
        var ups = new Stack<string>(pattern.Take(i+1));
        var downs = new Stack<string>(pattern.Skip(i+1).Reverse());
        while (ups.TryPeek(out var u) && downs.TryPeek(out var d))
        {
            if (u == d) {
                ups.Pop();downs.Pop();
            }
            else {
                break;
            }
        }
        if( ups.Count == 0 || downs.Count == 0) {
            return i + 1;
        }
    }

    return 0;
}
string[] Flip(string[] pattern) {
    var result = Enumerable.Range(0, pattern[0].Length).Select(x => new StringBuilder()).ToArray();
    for (int i = 0; i < pattern.Length; i++) {
        for (int j = 0; j < pattern[0].Length; j++) {
            result[j].Append(pattern[i][j]);
        }
    }
    return result.Select(x => x.ToString()).ToArray();
}

long sum = 0;
foreach (var pattern in patterns) {
    sum+= 100*Score(pattern);
    sum += Score(Flip(pattern));
}
Console.WriteLine(sum);*/

/*
var input = inputReal;
var lines = input.Split(Environment.NewLine);
var patterns = new List<string[]>();
var buffer = new List<string>();
foreach (var line in lines) {
    if (string.IsNullOrEmpty(line)) {
        patterns.Add(buffer.ToArray());
        buffer.Clear();
        continue;
    }
    buffer.Add(line);
}
patterns.Add(buffer.ToArray());

long Score(string[] patternString) {
    var cacheHorizontal = new Dictionary<string, int>();
    var cacheVertical = new Dictionary<string, int>();

    int GetH(string s) {
        if(!cacheHorizontal.TryGetValue(s, out var result)) {
            result = cacheHorizontal.Count;
            cacheHorizontal.Add(s, result);
        }

        return result;
    }
    int GetV(string s) {
        if(!cacheVertical.TryGetValue(s, out var result)) {
            result = cacheVertical.Count;
            cacheVertical.Add(s, result);
        }

        return result;
    }


    long LocalScore(int[] pattern) {
        for (int i = 0; i < pattern.Length - 1; i++)
        {
            var ups = new Stack<int>(pattern.Take(i + 1));
            var downs = new Stack<int>(pattern.Skip(i + 1).Reverse());
            while (ups.TryPeek(out var u) && downs.TryPeek(out var d)) {
                if (u == d)
                {
                    ups.Pop();
                    downs.Pop();
                }
                else
                {
                    break;
                }
            }

            if (ups.Count == 0 || downs.Count == 0) {
                return i + 1;
            }
        }

        return 0;
    }
    
    var current = patternString.Select(GetH).ToArray();
    var normalScore = LocalScore(current);
    for (int i = 0; i < patternString.Length; i++) {
        var before = current[i];
        for (int j = 0; j < patternString[i].Length; j++)
        {
            var b = patternString[i].ToArray();
            if (b[j] == '.') {
                b[j] = '#';
            }
            else {
                b[j] = '.';
            }

            current[i] = GetH(new string(b));
            var score = LocalScore(current);
            if (score != 0 && score != normalScore) {
                Console.WriteLine($"Found a pattern {i},{j} with score {score}");
                
                return score;
            }
        }

        current[i] = before;
    }

    return normalScore;
}
string[] Flip(string[] pattern) {
    var result = Enumerable.Range(0, pattern[0].Length).Select(x => new StringBuilder()).ToArray();
    for (int i = 0; i < pattern.Length; i++) {
        for (int j = 0; j < pattern[0].Length; j++) {
            result[j].Append(pattern[i][j]);
        }
    }
    return result.Select(x => x.ToString()).ToArray();
}

long sum = 0;
foreach (var pattern in patterns) {
    var score = Score(pattern);
    sum+= 100*score;
    sum += Score(Flip(pattern));
}
Console.WriteLine(sum);*/

var input = inputReal;
var lines = input.Split(Environment.NewLine);
var patterns = new List<string[]>();
var buffer = new List<string>();
foreach (var line in lines) {
    if (string.IsNullOrEmpty(line)) {
        patterns.Add(buffer.ToArray());
        buffer.Clear();
        continue;
    }
    buffer.Add(line);
}
patterns.Add(buffer.ToArray());

List<long> Score(string[] pattern)
{
    var res = new List<long>(4);
    for (int i = 0; i < pattern.Length -1; i++) {
        var ups = new Stack<string>(pattern.Take(i+1));
        var downs = new Stack<string>(pattern.Skip(i+1).Reverse());
        while (ups.TryPeek(out var u) && downs.TryPeek(out var d))
        {
            if (u == d) {
                ups.Pop();downs.Pop();
            }
            else {
                break;
            }
        }
        if( ups.Count == 0 || downs.Count == 0) {
            res.Add( i + 1);
        }
    }

    return res;
}
string[] Flip(string[] pattern) {
    var result = Enumerable.Range(0, pattern[0].Length).Select(x => new StringBuilder()).ToArray();
    for (int i = 0; i < pattern.Length; i++) {
        for (int j = 0; j < pattern[0].Length; j++) {
            result[j].Append(pattern[i][j]);
        }
    }
    return result.Select(x => x.ToString()).ToArray();
}
List<long> ScoreHV( string[] pattern) {
    var score = Score(pattern).Select(s => s*100).ToList();
    var scoreV = Score(Flip(pattern));
    score.AddRange(scoreV);
    return score;
}

long sum = 0;
foreach (var pattern in patterns) {
    var current = pattern.ToArray();
    var score = ScoreHV(current);

    long SearchNewScore() {
        for (int i = 0; i < pattern.Length; i++) {
            var before = current[i];
            for (int j = 0; j < pattern[i].Length; j++)
            {
                var b = pattern[i].ToArray();
                if (b[j] == '.') {
                    b[j] = '#';
                }
                else {
                    b[j] = '.';
                }

                current[i] = new string(b);
                var score2 = ScoreHV(current);
                score2 = score2.Except(score).ToList();
                if (score2.Count == 1) {
                    Console.WriteLine($"Found a pattern {i},{j} with score {score2.First()}");

                    return score2.First();
                }
            }

            current[i] = before;
        }

        //throw new ArgumentException();
        return 0;
    }
    var newScore = SearchNewScore();
    
    sum+= newScore;
}
Console.WriteLine(sum);