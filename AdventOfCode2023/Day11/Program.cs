// See https://aka.ms/new-console-template for more information


using System.Text;

Console.WriteLine("Hello, World!");

const string inputReal = @".....#..........#...........................................#................#.....................................#...............#........
.........................................#...........................................#........................................#.............
..........................#........................................................................#........................................
..................................................#.......................................#.............................#...................
..........................................................#............................................................................#....
.......................................#............................#...........................#...........................................
...................................................................................#..................#............#........................
...#..........#.....#.......................................................#................................#................#.............
................................................................#...........................................................................
.........................#.....................#......................#..................................#...........................#......
..................................#.........................................................#...............................................
...........................................#................................................................................................
............................................................#............................................................................#..
........#..................#.............................................#......................#..................#........................
....................................#...............#...............#........................................................#..............
..................................................................................#............................#............................
.#...........#......#....................................#.......................................................................#..........
.........................................#............................................#.................#............#......................
.................................#.............................................#...........................................#..............#.
....#.......................................................................................................................................
.........................#.............................#..........#.....#...................................#...............................
............................................................#....................................#..........................................
.................#............#...................................................................................................#.........
......................................#...............................................#...............#.................................#...
...............................................................#..................................................#.....#.....#.............
#.....................#..............................#...........................#..........................................................
...............................................#.....................#...............................................................#......
.........................................#...............#..................................#...............................................
......#............................#........................................................................................................
..........................................................................#...........................................#.....................
..................#...................................#.............................#..............#........#...................#...........
...........................#......................................#.........................................................................
..............................................#...........#....................................#...........................#..............#.
....#..................................#....................................................................................................
................#.....#.....................................................#.............................#........#........................
...............................................................#......#.....................................................................
............................................#..................................................................................#............
.......#........................#....................................................................................................#......
..............................................................................#...............#...........................#.................
.....................#.........................#............................................................................................
..........................#.................................#.....#...............................................#.........................
...................................................................................................#..............................#.........
..................#...............#.......#............#....................................................................................
.........................................................................................#....................#...............#.............
............#............................................................................................................................#..
......................#......................#..........................#......#..........................................#.................
............................................................................................................................................
...#...............................................................#..............................................#.........................
..........................................#..................#.............#..........................................................#.....
..................#............................#............................................................................................
......................................................#.................................#.........#.........................................
......................................#.................................#.........#........................#................................
#..........................#..........................................................................#....................#................
...........#................................#...............................#........................................#.............#........
...................................#....................................................................................................#...
............................................................................................................................................
...............#.........................#..................................................................................................
.................................................................#.......#......#...........................................................
#.....................................................................................#........................................#............
.........................#...........................................................................#...............................#......
....................#..................#..........#.........#...............................................................................
..........#......................#.........................................................................#...............#................
.............................................#................................................#.............................................
......#...............................................#........................#...................................................#........
............................................................................................................................................
..............................................................#..........................#..................................................
............#.....#....................#...........................................#........................................................
..#................................................#......#....................................................#............................
..........................#...................................................................................................#..........#..
....................................................................#.......................................................................
....................#.........................#........#...........................................................................#........
#.......................................#..........................................................#.....#..........#.......................
............................................................#............#............#.....................................................
............................................................................................................................................
............................................................................................................#........................#......
..............................#..............................................#.........................#.....................#..............
.......#..............#.............#...............#.......................................................................................
............................................................................................................................................
..................#......................................................#....................#................#............................
...........................#.....#......#........................#.............................................................#............
............................................................................................................................................
#...................................................................................#......................#..........#................#....
............#..........#......................#.............................................................................................
.............................................................#..........#.........................................................#.........
....#.............#.........................................................................................................................
................................#......#.........................................#..................#...........#..........#................
............................................................................................................................................
#..............#......................................#...............................................................#.....................
..........#..................................#..............................#...............................................................
............................................................................................................................................
.................................................#..............#....................#.........#.......................................#....
............................................................................................................................................
............................................................................................................................................
.............#............#................................#.........#......................#.............#................#................
#..............................................#................................#...........................................................
..........................................#...............................#.......................................#......................#..
..............................#........................#..........#.........................................................................
.........#.......#..........................................................................................................................
.........................#................................................................#...................................#.............
.............................................................................#.....................................................#........
....................................................................................................#.......................................
......#.....................#.....................................................................................#.........................
......................................#...................#...............................................................#.................
......................................................................#.....................#............................................#..
..#...............................#............#...............#...................#..............................................#.........
..............#..........................#.............#....................................................#.........#.....................
...............................................................................................#............................................
........................#.........................#...............#...........................................................#.............
.........#..................................................................................................................................
.....................................#...............................................................#......................................
.........................................................#..................#...................................#...........................
.................#..........................................................................................................................
..............................#.................#....................#...................#...............................#..................
...............................................................................................#.................................#..........
.........#..........................................#.....................................................#.................................
....#................#............#..............................................#..........................................................
..........................#............#.............................................................................#......................
...............#...............................................#...........#...................................................#............
.......................................................................................................................................#....
...............................#...............#.....................................#............#.........................................
..#.........................................................................................................#...............................
...........................#...............#..............................................#..............................#..................
................#......................................#.........................................................................#..........
.......................#..............#...............................#.....................................................................
...............................................................#................#.........................#.........#.......................
...............................#............................................................#......#........................................
......#............#....................................................................................................#...................
...........................#..........................................................#................................................#....
....................................................#..................#...............................#....................................
..............................................................................#.............................................................
...#............................#..............................#..................................#.................#........#..............
....................................................................#.........................................#.............................
...........#.....#...............................#..........................................#...............................................
.....................................#...........................................................................................#..........
....................................................................................................#...................................#...
.....#..................#.....................#............................#......#...............................#........#................
.............#...................................................#.............................#............................................
..............................#...........................#.............................................#..................................#
......................................#...............................................#........................................#............
...................#......#........................#.................#................................................#.....................";
const string inputTest = @"...#......
.......#..
#.........
..........
......#...
.#........
.........#
..........
.......#..
#...#.....";

// var input = inputReal;
// var grid = input.Split(Environment.NewLine).Select(l=> l.ToCharArray()).ToArray();
// int lines = grid.Length;
// int columns = grid[0].Length;
//
// var stars = new List<(int i, int j)>();
// for (int i = 0; i < grid.Length; i++) {
//     for (int j = 0; j < grid[i].Length; j++) {
//         if( grid[i][j] == '#') {
//             stars.Add((i,j));
//         }
//     }
// }
//
// var emptyLines = Enumerable.Range(0, lines).Where(i => grid[i].All(l => l == '.')).ToList();
// var emptyColumns = Enumerable.Range(0, lines).Where(j => grid.All(l => l[j] == '.')).ToList();
// for (int c = 0; c < emptyColumns.Count; c++) {
//     var ec = emptyColumns[c];
//     // we push following columns
//     for (int i = c+1; i < emptyColumns.Count; i++) {
//         emptyColumns[i]++;
//     }
//
//     for (int i = 0; i < stars.Count; i++) {
//         if(stars[i].j > ec) {
//             stars[i] = (stars[i].i, stars[i].j +1 );
//         }
//     }
// }
// for (int l = 0; l < emptyLines.Count; l++) {
//     var el = emptyLines[l];
//     // we push following columns
//     for (int i = l+1; i < emptyLines.Count; i++) {
//         emptyLines[i]++;
//     }
//
//     for (int i = 0; i < stars.Count; i++) {
//         if(stars[i].i > el) {
//             stars[i] = (stars[i].i +1, stars[i].j );
//         }
//     }
// }
// lines += emptyLines.Count;
// columns += emptyColumns.Count;
// var set = new HashSet<(int i, int j)>(stars);
// for (int i = 0; i < lines; i++)
// {
//     var sb = new StringBuilder();
//     for (int j = 0; j < columns; j++)
//     {
//         if (set.Contains((i, j)))
//         {
//             sb.Append('#');
//         }
//         else
//         {
//             sb.Append('.');
//         }
//     }
//     Console.WriteLine(sb);
// }
// long sum = 0;
// for (int i = 0; i < stars.Count; i++)
// {
//     for (int j = i+1; j < stars.Count; j++)
//     {
//         sum += ( Math.Abs(stars[i].i - stars[j].i) + Math.Abs(stars[i].j - stars[j].j) );
//     }
// }
// Console.WriteLine(sum);

var input = inputReal;
long nbSteps = 1000000 -1;
var grid = input.Split(Environment.NewLine).Select(l=> l.ToCharArray()).ToArray();
long lines = grid.Length;
long columns = grid[0].Length;

var stars = new List<(long i, long j)>();
for (int i = 0; i < grid.Length; i++) {
    for (int j = 0; j < grid[i].Length; j++) {
        if( grid[i][j] == '#') {
            stars.Add((i,j));
        }
    }
}

var emptyLines = Enumerable.Range(0, (int)lines).Select(i=>(long) i).Where(i => grid[i].All(l => l == '.')).ToList();
var emptyColumns = Enumerable.Range(0,(int) columns).Select(i=>(long) i).Where(j => grid.All(l => l[j] == '.')).ToList();
for (int c = 0; c < emptyColumns.Count; c++) {
    var ec = emptyColumns[c];
    // we push following columns
    for (int i = c+1; i < emptyColumns.Count; i++) {
        emptyColumns[i] += nbSteps;
    }

    for (int i = 0; i < stars.Count; i++) {
        if(stars[i].j > ec)
        {
            stars[i] = (stars[i].i, stars[i].j + nbSteps);
        }
    }
}
for (int l = 0; l < emptyLines.Count; l++) {
    var el = emptyLines[l];
    // we push following columns
    for (int i = l+1; i < emptyLines.Count; i++) {
        emptyLines[i]+= nbSteps;
    }

    for (int i = 0; i < stars.Count; i++) {
        if(stars[i].i > el) {
            stars[i] = (stars[i].i +nbSteps, stars[i].j );
        }
    }
}/*
lines += emptyLines.Count*nbSteps;
columns += emptyColumns.Count*nbSteps;
var set = new HashSet<(long i, long j)>(stars);
for (int i = 0; i < lines; i++)
{
    var sb = new StringBuilder();
    for (int j = 0; j < columns; j++)
    {
        if (set.Contains((i, j)))
        {
            sb.Append('#');
        }
        else
        {
            sb.Append('.');
        }
    }
    Console.WriteLine(sb);
}*/
long sum = 0;
for (int i = 0; i < stars.Count; i++)
{
    for (int j = i+1; j < stars.Count; j++)
    {
        var abs = ( Math.Abs(stars[i].i - stars[j].i) + Math.Abs(stars[i].j - stars[j].j) );
        sum += abs;
        //Console.WriteLine($"distance {i} to {j}: {abs}");
    }
}
Console.WriteLine(sum);